[experiment]
exp_name = "exp_ssl_pretrain-moco_supervised-with_beamform_and_canonical"
tags = "efficientnetb0", "ssl", "image", "exp_ssl_pretrain", "includes_second_sickkids_test_set"
debug = false
seed = -1
train = true
test = false
use_comet_logger = true

[data]              # Data arguments
    [[general]]         # General shared arguments
    dsets = "sickkids", "sickkids_beamform", "sickkids_image"
    full_seq = false
    label_part = "plane"

    [[dataloader]]      # Dataloader-related arguments
    batch_size = 64
    shuffle = true

    [[training]]        # Training-related arguments
    train_test_split = 0.75
    train_val_split = 0.75

    [[augment]]
    augment_training = true

[model]
    [[training]]          # General model training arguments
    stop_epoch = 200
    swa = true

    [[optim]]
    accum_batches = 2

[ssl]               # Self-supervised pre-training specific arguments
self_supervised = true

    [[ssl_experiment]]
    ssl_model = "moco"

    [[ssl_data]]        # Data-Loading for SSL pre-training
    same_label = true
    custom_collate = "same_label"

    [[moco_args]]       # MoCo-specific arguments
    memory_bank_size = 4096
    custom_ssl_loss = "same_label"
